def issueKey = "AUT-6"

// Specify the account ID of the user you want to add
def accountId = '630a0d15ec02b5f28b63a024'

def watcherResp = post("/rest/api/2/issue/${issueKey}/watchers")
    .header('Content-Type', 'application/json')
    .body("\"${accountId}\"")
    .asString()

if (watcherResp.status == 204) {
    logger.info("Successfully added user with account ID ${accountId} as watcher of ${issueKey}")
} else {
    logger.error("Error adding watcher: ${watcherResp.body}")
}
